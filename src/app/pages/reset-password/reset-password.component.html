<!-- message success and error  -->
<div class="message">
  <p-toast />
</div>
<!-- div of form design  -->
<section class="verify-code">
  <div class="container mx-auto h-screen">
    <div class="verify-container grid grid-cols-1 lg:grid-cols-2 w-full pt-20">
      <div class="img hidden lg:block">
        <img
          src="/images/reset-password.svg"
          class="w-full"
          alt="forget password photo"
        />
      </div>
      <div
        class="form pt-16 2xl:pt-20 text-center lg:text-start text-white/90 px-5 md:px-20"
      >
        <h2 class="capitalize text-4xl sm:text-6xl tracking-widest mb-4">
          change password !
        </h2>
        <p class="mb-10 capitalize">Keep your password in a safe place .</p>

        <form (ngSubmit)="formSumbit()" [formGroup]="changePassword">
          <p-floatlabel variant="on">
            <input
              pInputText
              id="email"
              class="w-full!"
              formControlName="email"
              name="uemail"
              type="email"
              autocomplete="off"
            />
            <label for="email">Email</label>
          </p-floatlabel>

          @if( changePassword.get('email')?.touched){
          @if(changePassword.get('email')?.getError('required')){
          <p class="text-red-800 mb-4">Email Is Required</p>
          } @if(changePassword.get('email')?.getError('email')){
          <p class="text-red-800 mb-4">Email Is Not valid</p>
          } }

          <p-floatlabel variant="on" class="my-5">
            <input
              pInputText
              id="password"
              type="password"
              class="w-full!"
              formControlName="newPassword"
              name="upassword"
              autocomplete="off"
            />
            <label for="password">New Password</label>
          </p-floatlabel>
          @if( changePassword.get('newPassword')?.touched){
          @if(changePassword.get('newPassword')?.getError('required')){
          <p class="text-red-800 mb-4">Email Is Required</p>
          } @if(changePassword.get('newPassword')?.getError('pattern')){
          <p class="text-red-800 mb-4">Password Is Not valid</p>
          } }

          <div class="submit flex justify-center lg:justify-end">
            <button
              [disabled]="!changePassword.valid"
              class="w-1/2 lg:w-1/3 block mt-4 py-3 font-bold cursor-pointer bg-primary rounded-2xl"
            >
              @if(!isLoading){
              <span>Change</span>
              }@else {
              <span class="fa-solid fa-spinner fa-spin"></span>
              }
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
